<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A.H 5.1 Sdn.Bhd.</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #0B0B0F;
            --card-bg-color: #1A1A21;
            --search-bg-color: #1A1A21;
            --primary-text-color: #EAEAEA;
            --secondary-text-color: #888899;
            --border-color: rgba(255, 255, 255, 0.1);
            --shadow-color: rgba(0, 0, 0, 0.4);
            --accent-color: #8B5CF6; /* Violet */
            --accent-glow: rgba(139, 92, 246, 0.5);
            --danger-color: #F472B6; /* Pink */
        }

        html.light {
            --bg-color: #F4F4F5;
            --card-bg-color: #FFFFFF;
            --search-bg-color: #FFFFFF;
            --primary-text-color: #18181B;
            --secondary-text-color: #71717A;
            --border-color: #E4E4E7;
            --shadow-color: rgba(161, 161, 170, 0.15);
            --accent-color: #7C3AED; /* Violet */
            --accent-glow: rgba(124, 58, 237, 0.4);
            --danger-color: #EC4899; /* Pink */
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideInFromRight { from { opacity: 0; transform: translateX(30px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 var(--accent-glow); } 70% { box-shadow: 0 0 0 10px transparent; } 100% { box-shadow: 0 0 0 0 transparent; } }

        * { box-sizing: border-box; }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-text-color);
            margin: 0;
            padding: 40px 20px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            transition: background-color 0.4s ease;
        }

        .container {
            width: 100%;
            max-width: 800px;
        }

        #theme-toggle-button {
            position: fixed; top: 25px; right: 25px;
            background-color: var(--card-bg-color);
            border: 1px solid var(--border-color);
            border-radius: 50%; width: 45px; height: 45px;
            cursor: pointer; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 20px var(--shadow-color);
            transition: all 0.3s ease; z-index: 1000;
        }
        #theme-toggle-button:hover { transform: scale(1.1) rotate(15deg); border-color: var(--accent-color); }
        #theme-toggle-button svg { width: 20px; height: 20px; fill: var(--secondary-text-color); transition: fill 0.3s ease; }
        #theme-toggle-button:hover svg { fill: var(--accent-color); }
        .moon-icon { display: block; } .sun-icon { display: none; }
        html.light .moon-icon { display: none; } html.light .sun-icon { display: block; }

        .header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeInUp 0.8s forwards;
        }
        .header-title-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        h1 { font-size: 2.2em; font-weight: 700; margin: 0; }
        #clock-info { font-size: 1.1em; color: var(--secondary-text-color); margin-top: 5px; }

        .creator-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 12px;
            background-color: var(--card-bg-color);
            border: 1px solid var(--border-color);
            border-radius: 999px;
            color: var(--secondary-text-color);
            text-decoration: none;
            font-size: 0.8em;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        .creator-badge:hover {
            color: var(--accent-color);
            border-color: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px var(--shadow-color);
        }
        .creator-badge svg {
            fill: currentColor;
        }
        
        #search-container {
            margin: 0 auto 30px;
            width: 100%;
            max-width: 500px;
            position: relative;
            animation: fadeInUp 0.8s 0.1s forwards;
            opacity: 0;
        }
        #search-bar {
            width: 100%;
            padding: 12px 20px;
            background-color: var(--search-bg-color);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            color: var(--primary-text-color);
            font-family: 'Poppins', sans-serif;
            font-size: 1em;
            transition: all 0.3s ease;
        }
        #search-bar:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 15px 2px var(--accent-glow);
        }
        #search-bar::placeholder { color: var(--secondary-text-color); }

        .day-selector {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 50px;
            animation: fadeInUp 0.8s 0.2s forwards;
            opacity: 0;
        }
        .day-button {
            position: relative;
            font-family: 'Poppins', sans-serif;
            font-size: 0.9em;
            font-weight: 500;
            color: var(--secondary-text-color);
            background-color: transparent;
            border: 1px solid var(--border-color);
            padding: 8px 18px;
            border-radius: 999px; /* Pill shape */
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .day-button:hover {
            color: var(--primary-text-color);
            border-color: var(--accent-color);
            background-color: var(--card-bg-color);
        }
        .day-button.active {
            color: white;
            background-color: var(--accent-color);
            border-color: var(--accent-color);
            font-weight: 600;
        }
        html.light .day-button.active { color: white; }

        .day-button.is-today::after {
            content: '';
            position: absolute;
            bottom: 4px;
            left: 50%;
            transform: translateX(-50%);
            width: 5px;
            height: 5px;
            background-color: var(--accent-color);
            border-radius: 50%;
            transition: background-color 0.3s ease;
        }
        .day-button.is-today.active::after {
            background-color: white;
        }

        .timeline-wrapper { position: relative; }
        .timeline { list-style: none; padding: 0; margin: 0; position: relative; }
        .timeline::before {
            content: '';
            position: absolute;
            top: 15px; left: 15px; bottom: 15px;
            width: 3px;
            background-color: var(--border-color);
            border-radius: 2px;
        }
        .timeline-item {
            position: relative;
            padding-left: 60px;
            margin-bottom: 25px;
            opacity: 0;
            animation: slideInFromRight 0.6s ease-out forwards;
            transition: opacity 0.4s ease, transform 0.4s ease;
        }
        .timeline-item:last-child { margin-bottom: 0; }
        .timeline-item.filtered-out {
            opacity: 0.3;
            transform: scale(0.95);
        }

        .timeline-dot {
            position: absolute; left: 5px; top: 10px;
            width: 22px; height: 22px;
            background-color: var(--card-bg-color);
            border: 3px solid var(--accent-color);
            border-radius: 50%; z-index: 1;
            transition: all 0.3s ease;
        }
        .timeline-item.break-item .timeline-dot { border-color: var(--danger-color); }
        .timeline-card {
            background-color: var(--card-bg-color);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 20px var(--shadow-color);
            transition: all 0.3s ease;
        }
        .timeline-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px var(--shadow-color);
            border-color: var(--accent-color);
        }
        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; gap: 15px; }
        .subject { font-size: 1.2em; font-weight: 600; }
        .time { font-size: 0.9em; font-weight: 500; color: var(--secondary-text-color); background-color: var(--bg-color); padding: 4px 10px; border-radius: 6px; border: 1px solid var(--border-color); }
        .teacher { font-size: 0.95em; color: var(--secondary-text-color); }
        
        .current-lesson .timeline-dot { animation: pulse 1.5s infinite; background-color: var(--accent-color); }
        .current-lesson .timeline-card { border-color: var(--accent-color); box-shadow: 0 0 25px var(--accent-glow); }
        .current-lesson .subject { color: var(--accent-color); }
        
        .holiday-card { text-align: center; padding: 50px 20px; border-style: dashed; }
        .holiday-card .subject { font-size: 1.5em; }

        footer { text-align: center; color: var(--secondary-text-color); font-size: 0.9em; padding-top: 50px; animation: fadeIn 1s 1s forwards; opacity: 0; }
        footer p { margin: 8px 0; }
        
        @media (max-width: 640px) {
            body { padding: 25px 15px; }
            h1 { font-size: 1.8em; }
            .header-title-wrapper { gap: 10px; }
            .timeline::before { left: 10px; }
            .timeline-item { padding-left: 45px; }
            .timeline-dot { left: 0; }
            .card-header { flex-direction: column; align-items: flex-start; gap: 8px; }
            .time { align-self: flex-start; }
        }
    </style>
</head>
<body>

    <button id="theme-toggle-button" aria-label="Toggle theme">
        <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.64 5.64c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L5.64 2.81c-.39-.39-1.02-.39-1.41 0s-.39 1.02 0 1.41l1.41 1.42zm12.72 12.72c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41l-1.41-1.42c-.39-.39-1.02-.39-1.41 0s-.39 1.02 0 1.41l1.41 1.42zM4.22 18.36c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41l-1.41-1.42c-.39-.39-1.02-.39-1.41 0s-.39 1.02 0 1.41l1.41 1.42zm14.14-14.14c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41l-1.41-1.42c-.39-.39-1.02-.39-1.41 0s-.39 1.02 0 1.41l1.41 1.42z"/></svg>
        <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.64-.11 2.41-.31-2.27-1.3-3.84-3.69-3.84-6.42C10.57 9.1 14.2 4.08 19.34 3.03 17.39 3 14.74 3 12 3z"/></svg>
    </button>
    
    <div class="container">
        <header class="header">
            <div class="header-title-wrapper">
                <h1>Jadwal Pelajaran X TE 2</h1>
                <a href="https://ah51sdnbhd.github.io/project-x2391/" target="_blank" rel="noopener noreferrer" class="creator-badge">
                    By A.H 5.1
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M10 6v2H5v11h11v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm11-3v8h-2V6.413l-7.793 7.794-1.414-1.414L17.585 5H13V3h8z"></path></svg>
                </a>
            </div>
            <div id="clock-info">Memuat...</div>
        </header>

        <div id="search-container">
            <input type="text" id="search-bar" placeholder="Cari pelajaran atau guru...">
        </div>

        <nav class="day-selector">
            <button class="day-button" data-day="Senin">Senin</button>
            <button class="day-button" data-day="Selasa">Selasa</button>
            <button class="day-button" data-day="Rabu">Rabu</button>
            <button class="day-button" data-day="Kamis">Kamis</button>
            <button class="day-button" data-day="Jumat">Jumat</button>
            <button class="day-button" data-day="Sabtu">Sabtu</button>
            <button class="day-button" data-day="Minggu">Minggu</button>
        </nav>

        <main class="timeline-wrapper">
            <ul class="timeline" id="schedule-timeline">
            </ul>
        </main>
        
        <footer>
            <p>Jika menemukan bug atau kesalahan dalam penulisan informasi, silakan hubungi developer!</p>
            <p>&copy; 2025 A.H 5.1 all rights reserved.</p>
        </footer>
    </div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const themeToggleButton = document.getElementById('theme-toggle-button');
        const htmlElement = document.documentElement;
        const clockInfoElement = document.getElementById('clock-info');
        const dayButtons = document.querySelectorAll('.day-button');
        const timelineContainer = document.getElementById('schedule-timeline');
        const searchBar = document.getElementById('search-bar');
        const dayMapping = ["Minggu", "Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu"];
        let scheduleInterval;

        const scheduleData = {
            Senin: [
                { type: 'event', time: "07:00-07:45", subject: "Upacara Bendera" },
                { type: 'lesson', time: "07:45-09:15", subject: "Ilmu Pengetahuan Alam dan Sosial", teacher: "Lukas Yudi Setiawan, S.T." },
                { type: 'break', time: "09:15-09:30", subject: "Istirahat ke-1" },
                { type: 'lesson', time: "09:30-10:15", subject: "Ilmu Pengetahuan Alam dan Sosial", teacher: "Lukas Yudi Setiawan, S.T." },
                { type: 'lesson', time: "10:15-11:45", subject: "Pend. Agama", teacher: "Abdul Muin, S.Pd.I" },
                { type: 'break', time: "11:45-12:15", subject: "Istirahat ke-2" },
                { type: 'lesson', time: "12:15-13:00", subject: "Pend. Agama", teacher: "Abdul Muin, S.Pd.I" },
                { type: 'lesson', time: "13:00-15:00", subject: "Bhs. Inggris", teacher: "Sri Eny Sumiarti L.E.K, S.Pd, M.Si." },
                { type: 'event', time: "15:00-15:15", subject: "Bersih-bersih" },
                { type: 'home', time: "15:15", subject: "Waktu Pulang", teacher: "Hati-hati di jalan!" }
            ],
            Selasa: [
                { type: 'lesson', time: "07:00-08:30", subject: "Bhs. Inggris", teacher: "Sri Eny Sumiarti L.E.K, S.Pd, M.Si." },
                { type: 'lesson', time: "08:30-09:15", subject: "Bhs. Indonesia", teacher: "Dra. Harmiati Erstiningrum" },
                { type: 'break', time: "09:15-09:30", subject: "Istirahat ke-1" },
                { type: 'lesson', time: "09:30-11:00", subject: "Bhs. Indonesia", teacher: "Dra. Harmiati Erstiningrum" },
                { type: 'lesson', time: "11:00-11:45", subject: "Pend. Pancasila", teacher: "Herning Susi Nugrahani, S.Pd" },
                { type: 'break', time: "11:45-12:15", subject: "Istirahat ke-2" },
                { type: 'lesson', time: "12:15-13:00", subject: "Pend. Pancasila", teacher: "Herning Susi Nugrahani, S.Pd" },
                { type: 'lesson', time: "13:00-15:00", subject: "Matematika", teacher: "Kusriyantini, S.Pd" },
                { type: 'event', time: "15:00-15:15", subject: "Bersih-bersih" },
                { type: 'home', time: "15:15", subject: "Waktu Pulang", teacher: "Hati-hati di jalan!" }
            ],
            Rabu: [
                { type: 'lesson', time: "07:00-08:30", subject: "Sejarah Indonesia", teacher: "Saydah Ak'la, S.Pd." },
                { type: 'lesson', time: "08:30-09:15", subject: "Pend. Pancasila", teacher: "Herning Susi Nugrahani, S.Pd" },
                { type: 'break', time: "09:15-09:30", subject: "Istirahat ke-1" },
                { type: 'lesson', time: "09:30-10:15", subject: "Pend. Pancasila", teacher: "Herning Susi Nugrahani, S.Pd" },
                { type: 'lesson', time: "10:15-11:45", subject: "Pend. Agama", teacher: "Abdul Muin, S.Pd.I" },
                { type: 'break', time: "11:45-12:15", subject: "Istirahat ke-2" },
                { type: 'lesson', time: "12:15-13:00", subject: "Pend. Agama", teacher: "Abdul Muin, S.Pd.I" },
                { type: 'lesson', time: "13:00-15:00", subject: "Ilmu Pengetahuan Alam dan Sosial", teacher: "Lukas Yudi Setiawan, S.T." },
                { type: 'event', time: "15:00-15:15", subject: "Bersih-bersih" },
                { type: 'home', time: "15:15", subject: "Waktu Pulang", teacher: "Hati-hati di jalan!" }
            ],
            Kamis: [
                { type: 'lesson', time: "07:00-09:15", subject: "Bhs. Indonesia", teacher: "Dra. Harmiati Erstiningrum" },
                { type: 'break', time: "09:15-09:30", subject: "Istirahat ke-1" },
                { type: 'lesson', time: "09:30-11:45", subject: "Bhs. Inggris", teacher: "Sri Eny Sumiarti L.E.K, S.Pd, M.Si." },
                { type: 'break', time: "11:45-12:15", subject: "Istirahat ke-2" },
                { type: 'lesson', time: "12:15-15:00", subject: "Matematika", teacher: "Kusriyantini, S.Pd" },
                { type: 'event', time: "15:00-15:15", subject: "Bersih-bersih" },
                { type: 'home', time: "15:15", subject: "Waktu Pulang", teacher: "Hati-hati di jalan!" }
            ],
            Jumat: [
                { type: 'event', time: "07:00-08:00", subject: "Random event" },
                { type: 'lesson', time: "08:00-09:20", subject: "Sejarah Indonesia", teacher: "Saydah Ak'la, S.Pd." },
                { type: 'break', time: "09:20-09:40", subject: "Istirahat ke-1" },
                { type: 'lesson', time: "09:40-11:40", subject: "Ilmu Pengetahuan Alam dan Sosial", teacher: "Lukas Yudi Setiawan, S.T." },
                { type: 'break', time: "11:40-12:30", subject: "Sholat Jumat" },
                { type: 'home', time: "12:30", subject: "Waktu Pulang", teacher: "Selamat berakhir pekan! (Non-Pramuka)" },
                { type: 'home', time: "15:00", subject: "Pulang (Pramuka)", teacher: "Waktu pulang jika ada kegiatan Pramuka." }
            ],
            Sabtu: [{ type: 'holiday', subject: "Hari Libur" }],
             Minggu: [{ type: 'holiday', subject: "Hari Libur" },
                { type: 'event', time: "19:00", subject: "tidur,besok sekolah" }
             ],
        };

        const applyTheme = (theme) => htmlElement.classList.toggle('light', theme === 'light');
        const savedTheme = localStorage.getItem('theme') || 'dark';
        applyTheme(savedTheme);
        themeToggleButton.addEventListener('click', () => {
            const newTheme = htmlElement.classList.contains('light') ? 'dark' : 'light';
            applyTheme(newTheme);
            localStorage.setItem('theme', newTheme);
        });

        function renderTimeline(day) {
            const data = scheduleData[day] || [];
            timelineContainer.innerHTML = ''; 
            data.forEach((item, index) => {
                const li = document.createElement('li');
                li.style.animationDelay = `${index * 100}ms`;
                if (item.type === 'holiday') {
                    li.classList.add('timeline-item');
                    li.innerHTML = `<div class="timeline-card holiday-card"><div class="subject">${item.subject}</div></div>`;
                } else {
                    li.classList.add('timeline-item');
                    if (item.type === 'break' || item.type === 'event' || item.type === 'home') li.classList.add('break-item');
                    li.dataset.time = item.time;
                    li.innerHTML = `
                        <div class="timeline-dot"></div>
                        <div class="timeline-card">
                            <div class="card-header">
                                <div class="subject">${item.subject}</div>
                                <div class="time">${item.time.replace('-', ' - ')}</div>
                            </div>
                            ${item.teacher ? `<div class="teacher">${item.teacher}</div>` : ''}
                        </div>
                    `;
                }
                timelineContainer.appendChild(li);
            });
            updateTimeAndSchedule();
        }

        dayButtons.forEach(button => {
            button.addEventListener('click', () => {
                dayButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                renderTimeline(button.dataset.day);
                searchBar.value = '';
                filterTimeline();
            });
        });

        function filterTimeline() {
            const query = searchBar.value.toLowerCase().trim();
            const allItems = timelineContainer.querySelectorAll('.timeline-item');
            allItems.forEach(item => {
                const subjectEl = item.querySelector('.subject');
                const teacherEl = item.querySelector('.teacher');
                const itemText = (subjectEl ? subjectEl.textContent.toLowerCase() : '') + ' ' + (teacherEl ? teacherEl.textContent.toLowerCase() : '');
                
                if (itemText.includes(query)) {
                    item.classList.remove('filtered-out');
                } else {
                    item.classList.add('filtered-out');
                }
            });
        }
        searchBar.addEventListener('input', filterTimeline);

        function updateTimeAndSchedule() {
            const now = new Date();
            clockInfoElement.textContent = `${now.toLocaleDateString('id-ID', { weekday: 'long', day: 'numeric', month: 'long' })} | ${now.toLocaleTimeString('id-ID')}`;

            const previousLesson = document.querySelector('.current-lesson');
            if (previousLesson) previousLesson.classList.remove('current-lesson');
            
            const activeDayButton = document.querySelector('.day-button.active');
            if (!activeDayButton) return;

            const activeDay = activeDayButton.dataset.day;
            const currentDayName = dayMapping[now.getDay()];

            if (activeDay !== currentDayName) return;

            const scheduleItems = timelineContainer.querySelectorAll('.timeline-item[data-time]');
            for (const item of scheduleItems) {
                const timeString = item.dataset.time;
                let isActive = false;
                if (timeString.includes('-')) {
                    const [startTimeStr, endTimeStr] = timeString.split('-');
                    const [startHour, startMinute] = startTimeStr.split(':').map(Number);
                    const [endHour, endMinute] = endTimeStr.split(':').map(Number);
                    const startTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), startHour, startMinute);
                    const endTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), endHour, endMinute);
                    if (now >= startTime && now < endTime) isActive = true;
                } else {
                    const [startHour, startMinute] = timeString.split(':').map(Number);
                    const startTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), startHour, startMinute);
                    const endTime = new Date(startTime.getTime() + 15 * 60000);
                    if (now >= startTime && now < endTime) isActive = true;
                }
                if (isActive) {
                    item.classList.add('current-lesson');
                    break;
                }
            }
        }
        
        // --- INISIALISASI ---
        function init() {
            const todayName = dayMapping[new Date().getDay()];
            const todayMarkerButton = document.querySelector(`.day-button[data-day="${todayName}"]`);
            if (todayMarkerButton) {
                todayMarkerButton.classList.add('is-today');
            }
            const todayButton = document.querySelector(`.day-button[data-day="${todayName}"]`);
            if (todayButton) {
                todayButton.click();
            } else {
                document.querySelector('.day-button[data-day="Senin"]').click();
            }
            if (scheduleInterval) clearInterval(scheduleInterval);
            scheduleInterval = setInterval(updateTimeAndSchedule, 1000);
        }

        init();
    });
</script>

</body>
</html>
